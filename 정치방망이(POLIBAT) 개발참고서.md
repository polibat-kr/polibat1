# 정치방망이 시스템 명세서

## 1. ID 구조

### ID 구조 정의

| 항목 | Prefix | 자리수 | ID 구조 예시 | 설명 |
|------|--------|--------|--------------|------|
| 일반회원 아이디 | NM | 6 | NM000123 | Normal Member |
| 정치인회원 아이디 | PM | 6 | PM000456 | Politician Member |
| 정치인(보좌진) 아이디 | PA | 6 | PA000789 | Politician Assistant |
| 자유게시판 아이디 | FB | 6 | FB123456 | Free Board |
| 정치인게시판 아이디 | PB | 6 | PB123456 | Polibat Board |
| 댓글 아이디 | CM | 4 | FB123456-CM0001<br>PB123456-CM0001 | Comment |
| 투표 아이디 | VP | 6 | VP000321 | Vote Poll |
| 불편사항 아이디 | RC | 6 | RC000111 | Report Complaint |
| 제안사항 아이디 | RS | 6 | RS000222 | Report Suggestion |
| 신고 아이디 | RP | 4 | FB123456-RP0001<br>FB123456-CM0001-RP0001 | Report Problem |
| 공지사항 아이디 | NT | 6 | NT000444 | Notice |
| 팝업 아이디 | PU | 6 | PU000333 | Popup |
| 배너 아이디 | BN | 6 | BN000555 | Banner |
| 서비스정책 템플릿 ID | TP | 4 | TP0001-VN0001 | Template Policy |
| 정책 버전 ID | VN | 4 | VN0001 | Version Number<br>템플릿별 버전 표시 |

### ID 체계 설명

**1. 고정 자리수 채번**
- 모든 채번은 앞자리 0을 포함한 고정 자리수 형식 사용
- 6자리: NM000001 ~ NM999999
- 4자리: CM0001 ~ CM9999, RP0001 ~ RP9999, VN0001 ~ VN9999

**2. 상위 ID + 하위 ID 조합**
- 구조적 ID 표현 방식 (구분자: "-")
- 자유게시판 댓글: FB123456-CM0001
- 정치인게시판 댓글: PB123456-CM0001
- 게시글 신고: FB123456-RP0001 또는 PB123456-RP0001
- 댓글 신고: FB123456-CM0001-RP0001 또는 PB123456-CM0001-RP0001

**3. 서비스정책 템플릿**
- 템플릿 종류가 늘어나도 단일 PREFIX 유지
- 템플릿별 버전으로 ID 부여
- 템플릿 버전 형식: TP0002-VN0003

---

## 2. 각 구분값

### 정치인 구분
- 국회의원
- 지방자치단체
- 대통령실

### 회원 구분
- 일반회원
- 정치인
- 보좌진
- 운영자

### 회원 상태
- 승인(자동)
- 승인대기
- 승인
- 탈퇴
- 정지
- 강퇴

### 게시글/댓글 상태
- 게시
- 숨김
- 삭제

### 게시글 처리
- 숨김
- 삭제
- 재게시

### 게시글 상태
- 게시
- 게시(고정)
- 숨김
- 삭제

### 투표 상태
- 진행
- 마감
- 예정

### 조치여부
- 접수대기
- 검토중
- 처리완료
- 처리불가
- 추후검토

### 공지사항 말머리
- 이용안내
- 업데이트
- 소통소식
- 외부활동

### 불편/제안 접수관리
- 기능제안
- 불편사항
- 투표제안

### 서비스정책 적용대상
- 전체
- 회원전체
- 일반회원
- 정치인회원

---

## 3. 개발 요구사항

### 이메일 보안
- email은 안전한 암호화 알고리즘으로 양방향 암호화되어 저장
- email 복호화는 한 건씩만 가능해야 함
- email을 DB 또는 복호화 함수를 통해 조회한 이력을 별도 DB에 보관
  - 누가(IP, ID)
  - 언제(조회일시분초)
  - 어디서(PC or 모바일 or 태블릿)
  - 누구를(조회한 이메일) 조회했는지 기록

### 임시 비밀번호
- 임시 비밀번호 발송 후 최초 로그인 시, 비밀번호 변경을 강제화 해야함
- 이때는 현재 비밀번호를 입력하지 않고, 신규 비밀번호만 입력하면 됨

### 승인 프로세스
- 정치인 가입 신청 승인시 승인 완료 메일 발송되어야 함

### 게시판 시간 표시
- 당일은 최초 등록 시분초
- 다음날되면 년월일
- 상세화면은 최초 등록 년월일시분초

### 외부 연동
- 불편/제안 접수는 팀즈로 알림 오도록 개발
- 매일 통계 팀즈로 알림 오도록 개발
