# μ •μΉλ°©λ§μ΄(POLIBAT) μΈν”„λΌ μ•„ν‚¤ν…μ² μ”μ•½μ„

**μ‘μ„±μΌ**: 2025-01-27  
**λ€μƒ**: μΈν”„λΌ λ‹΄λ‹Ήμ  
**λ©μ **: TO-BE μ•„ν‚¤ν…μ² ν•µμ‹¬ μΈν”„λΌ μ”κµ¬μ‚¬ν•­ κ³µμ 

---

## π“‹ λ©μ°¨

1. [ν”„λ΅μ νΈ κ°μ”](#1-ν”„λ΅μ νΈ-κ°μ”)
2. [ν„μ¬ μƒν™© (AS-IS)](#2-ν„μ¬-μƒν™©-as-is)
3. [λ©ν‘ μ•„ν‚¤ν…μ² (TO-BE)](#3-λ©ν‘-μ•„ν‚¤ν…μ²-to-be)
4. [μΈν”„λΌ μ”κµ¬μ‚¬ν•­](#4-μΈν”„λΌ-μ”κµ¬μ‚¬ν•­)
5. [λ°°ν¬ μ „λµ](#5-λ°°ν¬-μ „λµ)
6. [λΉ„μ© μμƒ](#6-λΉ„μ©-μμƒ)
7. [λ‹¤μ λ‹¨κ³„](#7-λ‹¤μ-λ‹¨κ³„)

---

## 1. ν”„λ΅μ νΈ κ°μ”

### π― ν”„λ΅μ νΈ λ©ν‘
- **μ •μΉλ°©λ§μ΄(POLIBAT)**: μ •μΉμΈκ³Ό μ‹λ―Ό κ°„ μ†ν†µ ν”λ«νΌ
- **AI μ—μ΄μ „νΈ κ°λ° μµμ ν™”**: λ…ν™•ν• μ•„ν‚¤ν…μ²λ΅ AI κ°λ° ν¨μ¨μ„± κ·Ήλ€ν™”
- **100% κΈ°λ¥ λ™λ“±μ„±**: κΈ°μ΅΄ UI/UX μ™„λ²½ μ¬ν„

### π“ ν„μ¬ κ·λ¨
- **Admin Dashboard**: React 19 + TypeScript, 16κ° νμ΄μ§€
- **Frontend Website**: HTML5 + jQuery, 22κ° νμ΄μ§€
- **μ‚¬μ©μ**: μΌλ°νμ›, μ •μΉμΈ, λ³΄μΆκ΄€, κ΄€λ¦¬μ

---

## 2. ν„μ¬ μƒν™© (AS-IS)

### β ν„μ¬ λ¬Έμ μ 
```
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”    β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚  Admin Dashboardβ”‚    β”‚ Frontend Websiteβ”‚
β”‚  (React SPA)    β”‚    β”‚ (HTML + jQuery) β”‚
β”‚  localhost:3000 β”‚    β”‚ localhost:8000  β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”    β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
         β”‚                       β”‚
         β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
                     β”‚
              β Backend μ—†μ
              β Database μ—†μ
              β localStorage κΈ°λ° μΈμ¦
```

### π¨ μ£Όμ” μ΄μ
- **λ°μ΄ν„° μμ†μ„± μ—†μ**: localStorage κΈ°λ°μΌλ΅ μ„λ²„ μ¬μ‹μ‘ μ‹ λ°μ΄ν„° μ†μ‹¤
- **λ³΄μ• μ·¨μ•½**: ν΄λΌμ΄μ–ΈνΈ μ‚¬μ΄λ“ μΈμ¦
- **ν™•μ¥μ„± μ ν•**: λ™μ‹ μ‚¬μ©μ μ²λ¦¬ λ¶κ°€
- **AI κΈ°λ¥ λ¶κ°€**: λ°±μ—”λ“ μ—†μ΄ AI μ„λΉ„μ¤ μ—°λ™ λ¶κ°€

---

## 3. λ©ν‘ μ•„ν‚¤ν…μ² (TO-BE)

### π—οΈ μ „μ²΄ μ‹μ¤ν… κµ¬μ΅°

#### μ΄μ ν™κ²½ (AWS)
```
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚                    CloudFront CDN                           β”‚
β”‚                (μ •μ  νμΌ, μ΄λ―Έμ§€ μΊμ‹±)                       β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
                  β”‚
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β–Όβ”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚              Application Load Balancer                       β”‚
β”‚                 (HTTPS, νΈλν”½ λ¶„μ‚°)                          β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
              β”‚               β”‚
    β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β–Όβ”€β”€β”€β”€β”€β”€β”€β”€β”€β”    β”‚
    β”‚  Admin Dashboard  β”‚    β”‚
    β”‚   (React SPA)     β”‚    β”‚
    β”‚   Port: 3000      β”‚    β”‚
    β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”    β”‚
                             β”‚
    β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β–Όβ”€β”€β”€β”€β”€β”€β”€β”€β”
    β”‚    Frontend Website             β”‚
    β”‚    (Static HTML + JS)           β”‚
    β”‚    Port: 8000                   β”‚
    β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
                  β”‚
    β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β–Όβ”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
    β”‚       API Server                  β”‚
    β”‚   (Node.js + Express)             β”‚
    β”‚   ECS Fargate                     β”‚
    β”‚   Port: 4000                      β”‚
    β””β”€β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”€β”€β”€β”
          β”‚          β”‚         β”‚
    β”β”€β”€β”€β”€β”€β–Όβ”€β”€β”€β”  β”β”€β”€β”€β–Όβ”€β”€β”€β”€β”  β”β–Όβ”€β”€β”€β”€β”€β”€β”€β”€β”
    β”‚   RDS   β”‚  β”‚ElastiCacheβ”‚   S3    β”‚
    β”‚Postgres β”‚  β”‚  Redis  β”‚  β”‚ Files  β”‚
    β”‚  16     β”‚  β”‚   7.x   β”‚  β”‚        β”‚
    β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”  β””β”€β”€β”€β”€β”€β”€β”€β”€β”  β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
```

#### κ°λ° ν™κ²½ (μ›κ²© DB)
```
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚    Admin Dashboard (React SPA)     β”‚
β”‚    localhost:3000                  β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
               β”‚
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β–Όβ”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚    Frontend Website (Static)       β”‚
β”‚    localhost:8000                  β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
               β”‚
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β–Όβ”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚    API Server (Node.js + Express)  β”‚
β”‚    localhost:4000                  β”‚
β””β”€β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
      β”‚              β”‚
β”β”€β”€β”€β”€β”€β–Όβ”€β”€β”€β”€β”€β”€β”€β”€β”  β”β”€β”€β–Όβ”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚  PostgreSQL  β”‚  β”‚  Redis      β”‚
β”‚  16 (μ›κ²©)   β”‚  β”‚  7 (Docker) β”‚
β”‚ 43.201.*.*   β”‚  β”‚  Port: 6379 β”‚
β”‚  Port: 5432  β”‚  β”‚             β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”  β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
```

---

## 4. μΈν”„λΌ μ”κµ¬μ‚¬ν•­

### π—„οΈ λ°μ΄ν„°λ² μ΄μ¤

#### PostgreSQL 16
- **μ©λ„**: λ©”μΈ λ°μ΄ν„°λ² μ΄μ¤
- **κ°λ°**: μ›κ²© μ„λ²„ (43.201.115.132:5432, DB: polibat)
- **μ΄μ**: AWS RDS Multi-AZ
- **λ°±μ—…**: μΌμΌ μλ™ λ°±μ—…, 7μΌ λ³΄κ΄€
- **μ¤ν‚¤λ§**: Prisma ORMμΌλ΅ κ΄€λ¦¬
- **μΈμ¦**: μ‚¬μ©μ `polibat`, λΉ„λ°€λ²νΈλ” `.env` νμΌ μ°Έμ΅°

#### Redis 7
- **μ©λ„**: μ„Έμ… κ΄€λ¦¬, API μΊμ‹±, Rate Limiting
- **κ°λ°**: Docker μ»¨ν…μ΄λ„
- **μ΄μ**: AWS ElastiCache
- **ν¬νΈ**: 6379

### π€ μ• ν”λ¦¬μΌ€μ΄μ… μ„λ²„

#### Node.js + Express
- **Runtime**: Node.js 20 LTS
- **Framework**: Express.js 4.x
- **Language**: TypeScript 5.x
- **ORM**: Prisma 5.x
- **λ°°ν¬**: ECS Fargate (μ„λ²„λ¦¬μ¤)

### π μ •μ  νμΌ νΈμ¤ν…

#### S3 + CloudFront
- **Admin Dashboard**: S3 μ •μ  νΈμ¤ν…
- **Frontend Website**: S3 μ •μ  νΈμ¤ν…
- **μ΄λ―Έμ§€/νμΌ**: S3 + CloudFront CDN
- **λ„λ©”μΈ**: `www.polibat.com`, `admin.polibat.com`

### π” λ³΄μ•

#### SSL/TLS
- **μΈμ¦μ„**: AWS Certificate Manager
- **ν”„λ΅ν† μ½**: HTTPS κ°•μ 
- **ν—¤λ”**: Helmet.js λ³΄μ• ν—¤λ”

#### μΈμ¦/μΈκ°€
- **JWT**: Access Token (15λ¶„) + Refresh Token (7μΌ)
- **μ•”νΈν™”**: μ΄λ©”μΌ AES-256 μ•”νΈν™”
- **Rate Limiting**: API μ”μ²­ μ ν•

---

## 5. λ°°ν¬ μ „λµ

### π³ Docker κµ¬μ„±

#### Backend Dockerfile
```dockerfile
FROM node:20-alpine AS builder
WORKDIR /app
COPY package.json package-lock.json ./
COPY prisma ./prisma/
RUN npm ci
COPY . .
RUN npm run build
RUN npx prisma generate

FROM node:20-alpine
WORKDIR /app
COPY package.json package-lock.json ./
RUN npm ci --production
COPY --from=builder /app/dist ./dist
COPY --from=builder /app/prisma ./prisma
COPY --from=builder /app/node_modules/.prisma ./node_modules/.prisma

HEALTHCHECK --interval=30s --timeout=3s --start-period=5s --retries=3 \
  CMD node -e "require('http').get('http://localhost:4000/health', (r) => {process.exit(r.statusCode === 200 ? 0 : 1)})"

EXPOSE 4000
CMD ["node", "dist/main.js"]
```

### π”„ CI/CD νμ΄ν”„λΌμΈ

#### GitHub Actions
```yaml
# μ£Όμ” μ›ν¬ν”λ΅μ°
1. ν…μ¤νΈ (Lint, TypeScript, Unit Tests)
2. Docker μ΄λ―Έμ§€ λΉλ“ λ° ECR ν‘Έμ‹
3. ECS μ„λΉ„μ¤ μ—…λ°μ΄νΈ
4. S3 μ •μ  νμΌ λ°°ν¬
5. CloudFront μΊμ‹ λ¬΄ν¨ν™”
```

### π“ λ¨λ‹ν„°λ§

#### CloudWatch
- **λ©”νΈλ¦­**: CPU, Memory, Response Time, Error Rate
- **μ•λ**: μ„κ³„κ°’ μ΄κ³Ό μ‹ SNS μ•λ¦Ό
- **λ΅κ·Έ**: μ• ν”λ¦¬μΌ€μ΄μ… λ΅κ·Έ μ¤‘μ•™ μ§‘μ¤‘

#### ν€μ¦ μ›Ήν›…
- **μΌμΌ ν†µκ³„**: μ‹ κ· νμ›, κ²μ‹κΈ€, λ“κΈ€ μ
- **μ•λ¦Ό**: λ¶νΈ/μ μ• μ ‘μ, μ‹μ¤ν… μ¤λ¥

---

## 6. λΉ„μ© μμƒ

### π’° μ›” μμƒ λΉ„μ© (AWS)

| μ„λΉ„μ¤ | μ©λ‰ | μ›” λΉ„μ© |
|--------|------|---------|
| **ECS Fargate** | 2 vCPU, 4GB RAM | $100-200 |
| **RDS PostgreSQL** | db.t3.micro | $50-100 |
| **ElastiCache Redis** | cache.t3.micro | $30-50 |
| **S3 + CloudFront** | 10GB μ €μ¥, 100GB μ „μ†΅ | $20-50 |
| **Application Load Balancer** | - | $20-30 |
| **Route 53** | νΈμ¤ν… μμ—­ | $1-5 |
| **AI API (OpenAI)** | GPT-4o-mini μ‚¬μ© | $50-150 |

### π“ **μ΄ μ›” λΉ„μ©: $250-550**

### π’΅ λΉ„μ© μµμ ν™” μ „λµ
- **κ°λ° ν™κ²½**: μ›κ²© PostgreSQL 16 μ„λ²„ μ‚¬μ© (κ³µμ )
- **AI λΉ„μ©**: μΊμ‹± λ° λ°°μΉ μ²λ¦¬λ΅ μµμ ν™”
- **μ¤ν† λ¦¬μ§€**: S3 Intelligent Tiering ν™μ©
- **μ»΄ν“¨ν…**: ECS Fargate Spot μΈμ¤ν„΄μ¤ κ³ λ ¤

---

## 7. λ‹¤μ λ‹¨κ³„

### π― μ¦‰μ‹ ν•„μ”ν• μ‘μ—…

#### 1. AWS κ³„μ • μ„¤μ •
- [ ] AWS κ³„μ • μƒμ„± λ° IAM μ‚¬μ©μ μ„¤μ •
- [ ] λ„λ©”μΈ λ“±λ΅ (`polibat.com`)
- [ ] SSL μΈμ¦μ„ λ°κΈ‰ (ACM)

#### 2. κ°λ° ν™κ²½ κµ¬μ¶•
- [x] PostgreSQL 16 μ›κ²© μ„λ²„ κµ¬μ¶• (43.201.115.132:5432, DB: polibat)
- [x] Docker Desktop μ„¤μΉ (Redisμ©)
- [x] κ°λ°μ PC ν™κ²½ μ„¤μ •
- [x] Prisma λ§μ΄κ·Έλ μ΄μ… μ™„λ£ (15κ° ν…μ΄λΈ”)
- [x] Redis Docker μ»¨ν…μ΄λ„ μ‹¤ν–‰ μ¤‘

#### 3. CI/CD νμ΄ν”„λΌμΈ
- [ ] GitHub Actions μ›ν¬ν”λ΅μ° μ„¤μ •
- [ ] ECR λ¦¬ν¬μ§€ν† λ¦¬ μƒμ„±
- [ ] ECS ν΄λ¬μ¤ν„° λ° μ„λΉ„μ¤ μƒμ„±

### π“… νƒ€μ„λΌμΈ

| μ£Όμ°¨ | μ‘μ—… λ‚΄μ© | λ‹΄λ‹Ήμ |
|------|-----------|--------|
| **Week 1** | AWS μΈν”„λΌ κΈ°λ³Έ μ„¤μ • | μΈν”„λΌ λ‹΄λ‹Ήμ |
| **Week 2** | κ°λ° ν™κ²½ κµ¬μ¶• | κ°λ°ν€ + μΈν”„λΌ |
| **Week 3** | CI/CD νμ΄ν”„λΌμΈ κµ¬μ¶• | μΈν”„λΌ λ‹΄λ‹Ήμ |
| **Week 4** | λ¨λ‹ν„°λ§ λ° μ•λ¦Ό μ„¤μ • | μΈν”„λΌ λ‹΄λ‹Ήμ |

### π¤ ν‘μ—… ν¬μΈνΈ

#### μΈν”„λΌ λ‹΄λ‹Ήμμ™€ κ°λ°ν€ ν‘μ—…
- **ν™κ²½ λ³€μ κ΄€λ¦¬**: AWS Secrets Manager ν™μ©
- **λ°μ΄ν„°λ² μ΄μ¤ λ§μ΄κ·Έλ μ΄μ…**: Prisma migrate μλ™ν™”
- **λ΅κΉ… ν‘μ¤€ν™”**: CloudWatch Logs ν•μ‹ ν†µμΌ
- **λ³΄μ• μ •μ±…**: λ„¤νΈμ›ν¬ λ³΄μ• κ·Έλ£Ή, IAM μ •μ±… κ²€ν† 

---

## π“ λ¬Έμμ‚¬ν•­

### π”— κ΄€λ ¨ λ¬Έμ„
- **μƒμ„Έ μ•„ν‚¤ν…μ²**: `TO-BE-ARCHITECTURE.md`
- **κ°λ° λ΅λ“λ§µ**: `DEV_ROADMAP.md`
- **λ°μ΄ν„°λ² μ΄μ¤ μ¤ν‚¤λ§**: `prisma/schema.prisma`

### π“§ μ—°λ½μ²
- **ν”„λ΅μ νΈ κ΄€λ¦¬**: [ν”„λ΅μ νΈ κ΄€λ¦¬μ]
- **κΈ°μ  λ¬Έμ**: [κΈ°μ  λ¦¬λ”]
- **μΈν”„λΌ λ¬Έμ**: [μΈν”„λΌ λ‹΄λ‹Ήμ]

---

**λ¬Έμ„ μ‘μ„±**: AI Agent (Claude 3.5 Sonnet)  
**μ‘μ„±μΌ**: 2025-01-27  
**λ²„μ „**: 1.0
