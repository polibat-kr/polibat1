<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="ì •ì¹˜ë°©ë§ì´ ë¹„ë°€ë²ˆí˜¸ ì°¾ê¸°" />
  <meta name="keywords" content="ì •ì¹˜ë°©ë§ì´, ë¹„ë°€ë²ˆí˜¸ ì°¾ê¸°, ê³„ì • ë³µêµ¬" />
  <meta name="author" content="ì •ì¹˜ë°©ë§ì´" />

  <!-- Facebook and Twitter integration -->
  <meta property="og:title" content="ì •ì¹˜ë°©ë§ì´ - ë¹„ë°€ë²ˆí˜¸ ì°¾ê¸°"/>
  <meta property="og:description" content="ì •ì¹˜ë°©ë§ì´ ê³„ì •ì˜ ë¹„ë°€ë²ˆí˜¸ë¥¼ ì°¾ì•„ë³´ì„¸ìš”"/>
  <meta property="og:url" content=""/>
  <meta property="og:site_name" content="ì •ì¹˜ë°©ë§ì´"/>
  <meta name="twitter:title" content="ì •ì¹˜ë°©ë§ì´ - ë¹„ë°€ë²ˆí˜¸ ì°¾ê¸°" />
  <meta name="twitter:description" content="ì •ì¹˜ë°©ë§ì´ ê³„ì •ì˜ ë¹„ë°€ë²ˆí˜¸ë¥¼ ì°¾ì•„ë³´ì„¸ìš”" />
  <meta name="twitter:card" content="" />

  <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600,700" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css?family=Roboto+Slab:300,400" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css?family=Nanum+Gothic" rel="stylesheet">

  <!-- Animate.css -->
  <link rel="stylesheet" href="css/animate.css">
  <!-- Icomoon Icon Fonts-->
  <link rel="stylesheet" href="css/icomoon.css">
  <!-- Bootstrap  -->
  <link rel="stylesheet" href="css/bootstrap.css">
  <!-- Magnific Popup -->
  <link rel="stylesheet" href="css/magnific-popup.css">
  <!-- Owl Carousel  -->
  <link rel="stylesheet" href="css/owl.carousel.min.css">
  <link rel="stylesheet" href="css/owl.theme.default.min.css">
  <!-- Flexslider  -->
  <link rel="stylesheet" href="css/flexslider.css">
  <!-- Pricing -->
  <link rel="stylesheet" href="css/pricing.css">
  <!-- Theme style  -->
  <link rel="stylesheet" href="css/style.css">
  <!-- Modernizr JS -->
  <script src="js/modernizr-2.6.2.min.js"></script>

  <title>ì •ì¹˜ë°©ë§ì´ - ë¹„ë°€ë²ˆí˜¸ ì°¾ê¸°</title>
  <style>
    body {
      font-family: 'Pretendard', 'Nanum Gothic', sans-serif;
      margin: 0;
      background: #f8f9fa;
    }

    #wrap {
      display: flex;
      justify-content: center;
      align-items: center;
      margin: 80px 0px 80px 0px;
      min-height: 60vh;
    }
    
    .container_find {
      background: #fff;
      width: 100%;
      max-width: 450px;
      border-radius: 16px;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
      padding: 40px 30px;
      margin: 80px 20px;
    }
    
    .container_find h2 {
      text-align: center;
      margin-bottom: 24px;
      color: #333;
      font-size: 24px;
      font-weight: 600;
    }

    .form {
      animation: fadeIn 0.3s ease-in-out;
    }

    @keyframes fadeIn {
      from { 
        opacity: 0;
        transform: translateY(10px);
      }
      to { 
        opacity: 1;
        transform: translateY(0);
      }
    }

    .form-group {
      margin-bottom: 24px;
    }

    .form-group label {
      display: block;
      margin-bottom: 8px;
      color: #333;
      font-size: 14px;
      font-weight: 600;
    }

    .form input {
      width: 100%;
      padding: 14px 16px;
      border: 1px solid #ddd;
      border-radius: 8px;
      font-size: 14px;
      transition: all 0.3s ease;
      box-sizing: border-box;
      background: #fff;
    }

    .form input:focus {
      outline: none;
      border-color: #000;
      box-shadow: 0 0 4px rgba(0, 0, 0, 0.2);
    }

    .form input.error {
      border-color: #ff0000;
      background-color: #ffeaea;
    }

    .form input:disabled {
      background-color: #f8f9fa;
      color: #6c757d;
      cursor: not-allowed;
      border-color: #e9ecef;
    }

    .error-msg {
      color: #ff0000;
      font-size: 13px;
      margin-top: 8px;
      display: none;
    }

    .form button {
      width: 100%;
      padding: 14px 16px;
      background: #000;
      color: #fff;
      font-weight: bold;
      font-size: 15px;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      transition: all 0.3s ease;
      margin-top: 8px;
      display: flex;
      align-items: center;
      justify-content: center;
      min-height: 48px;
      margin-bottom: 24px;
    }

    .form button:hover:not(:disabled) {
      background: #333;
    }

    .form button:disabled {
      background: #999;
      cursor: not-allowed;
      opacity: 0.6;
    }

    /* ì¸ì¦ ê´€ë ¨ ìŠ¤íƒ€ì¼ */
    .verify-btn {
      width: 100%;
      height: 48px;
      padding: 14px 16px;
      margin-top: 8px;
      font-size: 14px;
      font-weight: bold;
      background: #000;
      color: #fff;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.3s ease;
      box-sizing: border-box;
    }

    .verify-btn:hover:not(:disabled) {
      background: #333;
    }

    .verify-btn:disabled {
      background: #999;
      cursor: not-allowed;
      opacity: 0.6;
    }

    .timer {
      color: #ff6b35;
      font-size: 13px;
      font-weight: 600;
      text-align: right;
      margin-top: 8px;
      display: none;
      padding-right: 4px;
    }

    .timer.show {
      display: block;
    }

    .loading-spinner {
      display: none;
      width: 20px;
      height: 20px;
      border: 2px solid #ffffff;
      border-top: 2px solid transparent;
      border-radius: 50%;
      animation: spin 1s linear infinite;
      margin-right: 8px;
    }

    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }

    .success-msg {
      background: #d4edda;
      border: 1px solid #c3e6cb;
      color: #155724;
      padding: 12px;
      border-radius: 8px;
      margin: 15px 0;
      text-align: center;
      font-size: 14px;
      font-weight: 500;
      display: none;
    }

    .error-message {
      background: #f8d7da;
      border: 1px solid #f5c6cb;
      color: #721c24;
      padding: 12px;
      border-radius: 8px;
      margin: 15px 0;
      text-align: center;
      font-size: 14px;
      font-weight: 500;
    }

    .verification-success {
      background: #d1ecf1;
      border: 1px solid #bee5eb;
      color: #0c5460;
      padding: 12px;
      border-radius: 8px;
      margin-top: 15px;
      text-align: center;
      font-size: 14px;
      font-weight: 500;
      display: none;
    }

    .verification-success.show {
      display: block;
    }

    .back-link {
      text-align: center;
      margin-top: 20px;
      font-size: 14px;
    }

    .back-link a {
      color: #666;
      text-decoration: none;
      transition: color 0.3s ease;
    }

    .back-link a:hover {
      color: #000;
      text-decoration: underline;
    }

    .info-text {
      background: #e7f3ff;
      border: 1px solid #bee5eb;
      color: #0c5460;
      padding: 12px;
      border-radius: 8px;
      margin-bottom: 20px;
      font-size: 14px;
      text-align: center;
    }

    .step-indicator {
      display: flex;
      justify-content: center;
      margin-bottom: 30px;
      gap: 12px;
    }

    .step {
      width: 10px;
      height: 10px;
      border-radius: 50%;
      background: #ddd;
      transition: background 0.3s ease;
    }

    .step.active {
      background: #000;
    }

    .step.completed {
      background: #28a745;
    }

    /* ë°˜ì‘í˜• ë””ìì¸ */
    @media (max-width: 768px) {
      .timer {
        text-align: center;
        padding-right: 0;
      }
    }

    @media (max-width: 500px) {
      .container_find {
        padding: 24px 20px;
        margin: 20px 12px;
      }
      
      .container_find h2 {
        font-size: 20px;
        margin-bottom: 20px;
      }
      
      .form input, .form button {
        font-size: 14px;
      }

      .form-group {
        margin-bottom: 20px;
      }

      .step-indicator {
        margin-bottom: 24px;
        gap: 10px;
      }

      .info-text {
        font-size: 13px;
        padding: 10px;
        margin-bottom: 16px;
      }
    }
  </style>
</head>
<body>
  <!-- í—¤ë” ë¡œë”© -->
  <div id="header-include"></div>
  
  <div id="wrap"> 
    <div class="container_find">
      <h2>ë¹„ë°€ë²ˆí˜¸ ì°¾ê¸°</h2>
      
      <!-- ë‹¨ê³„ í‘œì‹œ -->
      <div class="step-indicator">
        <div class="step active" id="step1"></div>
        <div class="step" id="step2"></div>
        <div class="step" id="step3"></div>
      </div>
      
      <div class="info-text">
        íšŒì›ê°€ì… ì‹œ ë“±ë¡í•œ ì´ë©”ì¼ê³¼ ë‹‰ë„¤ì„ì´ ì¼ì¹˜í•˜ë©´ ì¸ì¦ì½”ë“œë¥¼<br>
        ì´ë©”ì¼ë¡œ ë³´ë‚´ë“œë¦¬ë©°, ì¸ì¦ ì™„ë£Œ í›„ ì¼íšŒìš© ì„ì‹œ ë¹„ë°€ë²ˆí˜¸ê°€ ë°œê¸‰ë©ë‹ˆë‹¤.
      </div>
      
      <!-- ë¹„ë°€ë²ˆí˜¸ ì°¾ê¸° í¼ -->
      <div id="pw-form" class="form">
        <!-- ì´ë©”ì¼ ì…ë ¥ -->
        <div class="form-group">
          <label for="findPwEmail">ì´ë©”ì¼</label>
          <input type="email" id="findPwEmail" name="email" placeholder="ì´ë©”ì¼ì„ ì…ë ¥í•˜ì„¸ìš”" autocomplete="email">
          <div class="error-msg" id="emailError">ì´ë©”ì¼ì„ ì…ë ¥í•˜ì„¸ìš”</div>
        </div>

        <!-- ë‹‰ë„¤ì„ ì…ë ¥ -->
        <div class="form-group">
          <label for="findPwNickname">ë‹‰ë„¤ì„</label>
          <input type="text" id="findPwNickname" name="nickname" placeholder="ë‹‰ë„¤ì„ì„ ì…ë ¥í•˜ì„¸ìš”" autocomplete="username">
          <div class="error-msg" id="nicknameError">ë‹‰ë„¤ì„ì„ ì…ë ¥í•˜ì„¸ìš”</div>
        </div>

        <!-- ì¸ì¦ì½”ë“œ ë°œì†¡ ë²„íŠ¼ -->
        <button type="button" id="sendVerificationBtn">
          <span class="loading-spinner"></span>
          <span class="button-text">ì¸ì¦ì½”ë“œ ë°œì†¡</span>
        </button>

        <!-- ì¸ì¦ì½”ë“œ ì…ë ¥ -->
        <div class="form-group">
          <label for="verificationCode">ì¸ì¦ì½”ë“œ</label>
          <input type="text" id="verificationCode" name="verification" placeholder="ì¸ì¦ì½”ë“œ 6ìë¦¬" maxlength="6" disabled>
          <button type="button" id="verifyCodeBtn" class="verify-btn" disabled>
            <span class="loading-spinner"></span>
            <span class="button-text">ì„ì‹œ ë¹„ë°€ë²ˆí˜¸ ë°œì†¡</span>
          </button>
          <div class="timer" id="timer">05:00</div>
          <div class="error-msg" id="verificationError">ì¸ì¦ì½”ë“œë¥¼ ì…ë ¥í•´ ì£¼ì„¸ìš”.</div>
          <div class="verification-success" id="verificationSuccess">
            âœ“ ì´ë©”ì¼ ì¸ì¦ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤. ìƒˆë¡œìš´ ë¹„ë°€ë²ˆí˜¸ë¥¼ ë°œì†¡í•©ë‹ˆë‹¤.
          </div>
        </div>

        <div class="success-msg" id="pwSuccess"></div>
      </div>
      
      <!-- ë¡œê·¸ì¸ í˜ì´ì§€ë¡œ ëŒì•„ê°€ê¸° -->
      <div class="back-link">
        <a href="login.html">â† ë¡œê·¸ì¸ í˜ì´ì§€ë¡œ ëŒì•„ê°€ê¸°</a>
      </div>
    </div>
  </div>

  <!-- í…ŒìŠ¤íŠ¸ ì •ë³´ -->
  <div style="background: #f8f9fa; padding: 20px; margin: 20px auto; max-width: 450px; border-radius: 8px; font-size: 13px; color: #666; text-align: center;">
    <h4 style="margin: 0 0 15px 0; color: #333; font-size: 14px;">ğŸ“‹ í…ŒìŠ¤íŠ¸ ë°ì´í„°</h4>
    <div style="text-align: left; margin-bottom: 15px;">
      <strong>ë“±ë¡ëœ íšŒì›:</strong><br>
      â€¢ test@example.com / í…ŒìŠ¤íŠ¸ìœ ì €<br>
      â€¢ politician@example.com / ì •ì¹˜ì¸<br>
      â€¢ hong@example.com / í™ê¸¸ë™<br>
      â€¢ user@naver.com / ë„¤ì´ë²„ìœ ì €<br>
      â€¢ admin@gmail.com / ê´€ë¦¬ì
    </div>
    <div style="text-align: center;">
      <strong>ì¸ì¦ì½”ë“œ:</strong> <span style="background: #e3f2fd; padding: 2px 8px; border-radius: 4px; font-weight: bold; color: #1976d2;">123456</span>
    </div>
  </div>
  
  <!-- í‘¸í„° ë¡œë”© -->
  <div id="footer-include"></div>

  <script>
    (function() {
      'use strict';
      
      console.log('ğŸ”§ ë¹„ë°€ë²ˆí˜¸ ì°¾ê¸° ì‹œìŠ¤í…œ ì´ˆê¸°í™”');
      
      var PasswordResetManager = {
        isSubmitting: false,
        isEmailVerified: false,
        verificationTimer: null,
        timeLeft: 300, // 5ë¶„
        
        init: function() {
          console.log('ğŸ¯ ë¹„ë°€ë²ˆí˜¸ ì°¾ê¸° í˜ì´ì§€ ì´ˆê¸°í™” ì‹œì‘');
          
          this.cacheElements();
          this.bindEvents();
          this.setupValidation();
          
          console.log('âœ… ë¹„ë°€ë²ˆí˜¸ ì°¾ê¸° ì‹œìŠ¤í…œ ì´ˆê¸°í™” ì™„ë£Œ');
        },
        
        cacheElements: function() {
          // ê¸°ë³¸ ìš”ì†Œë“¤
          this.pwForm = document.getElementById('pw-form');
          this.pwSuccess = document.getElementById('pwSuccess');
          this.emailInput = document.getElementById('findPwEmail');
          this.nicknameInput = document.getElementById('findPwNickname');
          
          // ì¸ì¦ ê´€ë ¨ ìš”ì†Œë“¤
          this.sendVerificationBtn = document.getElementById('sendVerificationBtn');
          this.verificationCodeInput = document.getElementById('verificationCode');
          this.verifyCodeBtn = document.getElementById('verifyCodeBtn');
          this.timer = document.getElementById('timer');
          this.verificationSuccess = document.getElementById('verificationSuccess');
          
          // ë‹¨ê³„ í‘œì‹œ ìš”ì†Œë“¤
          this.step1 = document.getElementById('step1');
          this.step2 = document.getElementById('step2');
          this.step3 = document.getElementById('step3');
        },
        
        bindEvents: function() {
          var self = this;
          
          // ì¸ì¦ì½”ë“œ ë°œì†¡ ë²„íŠ¼
          if (this.sendVerificationBtn) {
            this.sendVerificationBtn.addEventListener('click', function() {
              self.handleSendVerification();
            });
          }
          
          // ì¸ì¦ì½”ë“œ í™•ì¸ ë²„íŠ¼
          if (this.verifyCodeBtn) {
            this.verifyCodeBtn.addEventListener('click', function() {
              self.handleVerifyCode();
            });
          }
        },
        
        setupValidation: function() {
          var self = this;
          var inputs = document.querySelectorAll('input');
          
          inputs.forEach(function(input) {
            input.addEventListener('input', function() {
              self.clearFieldError(this);
            });
            
            input.addEventListener('keypress', function(e) {
              if (e.key === 'Enter') {
                if (input === self.emailInput || input === self.nicknameInput) {
                  if (!self.sendVerificationBtn.disabled) {
                    self.sendVerificationBtn.click();
                  }
                } else if (input === self.verificationCodeInput && !self.verifyCodeBtn.disabled) {
                  self.verifyCodeBtn.click();
                }
              }
            });
          });
        },
        
        handleSendVerification: function() {
          var email = this.emailInput.value.trim();
          var nickname = this.nicknameInput.value.trim();
          
          if (!this.validateUserInfo(email, nickname)) {
            return;
          }
          
          this.setVerificationLoadingState(true);
          
          var self = this;
          this.checkUserAndSendCode(email, nickname, function(result) {
            self.setVerificationLoadingState(false);
            
            if (result.success) {
              self.enableVerificationInputs();
              self.startTimer();
              self.updateStepIndicator(1); // 1ë‹¨ê³„ ì™„ë£Œ
              self.showSuccessMessage('íšŒì› ì •ë³´ê°€ í™•ì¸ë˜ì—ˆìŠµë‹ˆë‹¤.\nì¸ì¦ì½”ë“œê°€ ' + email + 'ë¡œ ë°œì†¡ë˜ì—ˆìŠµë‹ˆë‹¤.');
              self.disableUserInputs();
            } else {
              self.showErrorMessage(result.message);
            }
          });
        },
        
        handleVerifyCode: function() {
          var code = this.verificationCodeInput.value.trim();
          
          if (!code) {
            this.showFieldError('verificationCode', 'verificationError', 'ì¸ì¦ì½”ë“œë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.');
            return;
          }
          
          if (code.length !== 6) {
            this.showFieldError('verificationCode', 'verificationError', 'ì¸ì¦ì½”ë“œ 6ìë¦¬ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.');
            return;
          }
          
          this.setVerifyLoadingState(true);
          
          var self = this;
          this.verifyCode(code, function(result) {
            self.setVerifyLoadingState(false);
            
            if (result.success) {
              self.isEmailVerified = true;
              self.stopTimer();
              self.showVerificationSuccess();
              self.updateStepIndicator(2); // 2ë‹¨ê³„ ì™„ë£Œ
              self.disableAllInputs();
              
              // ìë™ìœ¼ë¡œ ì„ì‹œ ë¹„ë°€ë²ˆí˜¸ ë°œì†¡
              setTimeout(function() {
                self.sendTempPassword();
              }, 1000);
            } else {
              self.showFieldError('verificationCode', 'verificationError', result.message);
            }
          });
        },
        
        checkUserAndSendCode: function(email, nickname, callback) {
          setTimeout(function() {
            console.log('ğŸ‘¤ íšŒì› ì •ë³´ í™•ì¸ ë° ì¸ì¦ì½”ë“œ ë°œì†¡:', { email: email, nickname: nickname });
            
            // ëª¨ì˜ ì‚¬ìš©ì ë°ì´í„°
            var users = [
              { email: 'test@example.com', nickname: 'í…ŒìŠ¤íŠ¸ìœ ì €' },
              { email: 'politician@example.com', nickname: 'ì •ì¹˜ì¸' },
              { email: 'hong@example.com', nickname: 'í™ê¸¸ë™' },
              { email: 'user@naver.com', nickname: 'ë„¤ì´ë²„ìœ ì €' },
              { email: 'admin@gmail.com', nickname: 'ê´€ë¦¬ì' }
            ];
            
            var foundUser = users.find(function(user) {
              return user.email === email && user.nickname === nickname;
            });
            
            if (foundUser) {
              callback({
                success: true,
                message: 'íšŒì› ì •ë³´ê°€ í™•ì¸ë˜ì—ˆìŠµë‹ˆë‹¤. ì¸ì¦ì½”ë“œë¥¼ ë°œì†¡í–ˆìŠµë‹ˆë‹¤.'
              });
            } else {
              callback({
                success: false,
                message: 'ì…ë ¥í•˜ì‹  ì´ë©”ì¼ê³¼ ë‹‰ë„¤ì„ ì •ë³´ê°€ ì¼ì¹˜í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.\níšŒì›ê°€ì… ì‹œ ì‚¬ìš©í•œ ì •ë³´ë¥¼ ì •í™•íˆ ì…ë ¥í•´ì£¼ì„¸ìš”.'
              });
            }
          }, 1000);
        },
        
        verifyCode: function(code, callback) {
          setTimeout(function() {
            console.log('ğŸ” ì¸ì¦ì½”ë“œ í™•ì¸:', code);
            
            // ì„ì‹œ ì¸ì¦ì½”ë“œ: 123456
            if (code === '123456') {
              callback({
                success: true,
                message: 'ì¸ì¦ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤.'
              });
            } else {
              callback({
                success: false,
                message: 'ì¸ì¦ì½”ë“œê°€ ì˜¬ë°”ë¥´ì§€ ì•ŠìŠµë‹ˆë‹¤.'
              });
            }
          }, 500);
        },
        
        sendTempPassword: function() {
          var email = this.emailInput.value.trim();
          
          this.updateStepIndicator(3); // 3ë‹¨ê³„ ì‹œì‘
          
          var self = this;
          setTimeout(function() {
            console.log('ğŸ”‘ ì„ì‹œ ë¹„ë°€ë²ˆí˜¸ ë°œì†¡:', email);
            
            var tempPassword = 'temp' + Math.random().toString(36).substr(2, 8);
            
            self.showSuccessMessage(
              'âœ… ì¸ì¦ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤!\n\n' +
              'ìƒˆë¡œìš´ ì„ì‹œ ë¹„ë°€ë²ˆí˜¸ë¥¼ ' + email + 'ë¡œ ë°œì†¡í–ˆìŠµë‹ˆë‹¤.\n' +
              'ì´ë©”ì¼ì„ í™•ì¸í•˜ì‹  í›„ ë¡œê·¸ì¸í•´ì£¼ì„¸ìš”.\n\n' +
              'âš ï¸ ë¡œê·¸ì¸ í›„ ë°˜ë“œì‹œ ë¹„ë°€ë²ˆí˜¸ë¥¼ ë³€ê²½í•´ì£¼ì„¸ìš”.'
            );
            
            console.log('ğŸ” ì„ì‹œ ë¹„ë°€ë²ˆí˜¸ ìƒì„±:', tempPassword);
            
            // 3ì´ˆ í›„ ë¡œê·¸ì¸ í˜ì´ì§€ë¡œ ì´ë™
            setTimeout(function() {
              window.location.href = 'login.html';
            }, 3000);
          }, 1500);
        },
        
        validateUserInfo: function(email, nickname) {
          this.clearAllErrors();
          var isValid = true;
          
          if (!email) {
            this.showFieldError('findPwEmail', 'emailError', 'ì´ë©”ì¼ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.');
            isValid = false;
          } else if (!this.isValidEmail(email)) {
            this.showFieldError('findPwEmail', 'emailError', 'ì˜¬ë°”ë¥¸ ì´ë©”ì¼ í˜•ì‹ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.');
            isValid = false;
          }
          
          if (!nickname) {
            this.showFieldError('findPwNickname', 'nicknameError', 'ë‹‰ë„¤ì„ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.');
            isValid = false;
          } else if (nickname.length < 2) {
            this.showFieldError('findPwNickname', 'nicknameError', 'ë‹‰ë„¤ì„ì„ 2ì ì´ìƒ ì…ë ¥í•´ì£¼ì„¸ìš”.');
            isValid = false;
          }
          
          return isValid;
        },

        isValidEmail: function(email) {
          var emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
          return emailRegex.test(email);
        },
        
        enableVerificationInputs: function() {
          this.verificationCodeInput.disabled = false;
          this.verifyCodeBtn.disabled = false;
        },
        
        showVerificationSuccess: function() {
          this.verificationSuccess.classList.add('show');
          this.clearFieldError(this.verificationCodeInput);
        },
        
        disableUserInputs: function() {
          this.emailInput.disabled = true;
          this.nicknameInput.disabled = true;
          this.sendVerificationBtn.disabled = true;
        },
        
        disableAllInputs: function() {
          this.emailInput.disabled = true;
          this.nicknameInput.disabled = true;
          this.sendVerificationBtn.disabled = true;
          this.verificationCodeInput.disabled = true;
          this.verifyCodeBtn.disabled = true;
        },
        
        startTimer: function() {
          this.timeLeft = 300; // 5ë¶„ ë¦¬ì…‹
          this.timer.classList.add('show');
          this.updateTimerDisplay();
          
          var self = this;
          this.verificationTimer = setInterval(function() {
            self.timeLeft--;
            
            if (self.timeLeft <= 0) {
              self.stopTimer();
              self.showFieldError('verificationCode', 'verificationError', 'ì¸ì¦ì‹œê°„ì´ ë§Œë£Œë˜ì—ˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ ë°œì†¡í•´ì£¼ì„¸ìš”.');
              self.resetVerification();
            } else {
              self.updateTimerDisplay();
            }
          }, 1000);
        },
        
        stopTimer: function() {
          if (this.verificationTimer) {
            clearInterval(this.verificationTimer);
            this.verificationTimer = null;
          }
          this.timer.classList.remove('show');
        },
        
        updateTimerDisplay: function() {
          var minutes = Math.floor(this.timeLeft / 60);
          var seconds = this.timeLeft % 60;
          this.timer.textContent = minutes.toString().padStart(2, '0') + ':' + seconds.toString().padStart(2, '0');
        },
        
        resetVerification: function() {
          this.isEmailVerified = false;
          this.emailInput.disabled = false;
          this.nicknameInput.disabled = false;
          this.sendVerificationBtn.disabled = false;
          this.verificationCodeInput.disabled = true;
          this.verifyCodeBtn.disabled = true;
          this.verificationSuccess.classList.remove('show');
          this.updateStepIndicator(0);
        },
        
        updateStepIndicator: function(completedSteps) {
          var steps = [this.step1, this.step2, this.step3];
          
          steps.forEach(function(step, index) {
            step.classList.remove('active', 'completed');
            
            if (index < completedSteps) {
              step.classList.add('completed');
            } else if (index === completedSteps) {
              step.classList.add('active');
            }
          });
        },
        
        setVerificationLoadingState: function(loading) {
          var spinner = this.sendVerificationBtn.querySelector('.loading-spinner');
          var buttonText = this.sendVerificationBtn.querySelector('.button-text');
          
          if (loading) {
            this.sendVerificationBtn.disabled = true;
            if (spinner) spinner.style.display = 'inline-block';
            if (buttonText) buttonText.textContent = 'í™•ì¸ì¤‘...';
          } else {
            if (spinner) spinner.style.display = 'none';
            if (buttonText) buttonText.textContent = 'ì¬ë°œì†¡';
          }
        },
        
        setVerifyLoadingState: function(loading) {
          var spinner = this.verifyCodeBtn.querySelector('.loading-spinner');
          var buttonText = this.verifyCodeBtn.querySelector('.button-text');
          
          if (loading) {
            this.verifyCodeBtn.disabled = true;
            if (spinner) spinner.style.display = 'inline-block';
            if (buttonText) buttonText.textContent = 'í™•ì¸ì¤‘...';
          } else {
            this.verifyCodeBtn.disabled = false;
            if (spinner) spinner.style.display = 'none';
            if (buttonText) buttonText.textContent = 'í™•ì¸';
          }
        },
        
        showFieldError: function(fieldId, errorId, message) {
          var field = document.getElementById(fieldId);
          var error = document.getElementById(errorId);
          
          if (field) field.classList.add('error');
          if (error) {
            if (message) error.textContent = message;
            error.style.display = 'block';
          }
        },
        
        clearFieldError: function(field) {
          field.classList.remove('error');
          var formGroup = field.closest('.form-group');
          if (formGroup) {
            var error = formGroup.querySelector('.error-msg');
            if (error) {
              error.style.display = 'none';
            }
          }
        },
        
        clearAllErrors: function() {
          var errorMsgs = document.querySelectorAll('.error-msg');
          errorMsgs.forEach(function(error) {
            error.style.display = 'none';
          });
          
          var inputs = document.querySelectorAll('input');
          inputs.forEach(function(input) {
            input.classList.remove('error');
          });
          
          var existingErrors = document.querySelectorAll('.error-message');
          existingErrors.forEach(function(error) {
            error.remove();
          });
        },
        
        showSuccessMessage: function(message) {
          if (this.pwSuccess) {
            this.pwSuccess.innerHTML = message.replace(/\n/g, '<br>');
            this.pwSuccess.style.display = 'block';
            
            // 8ì´ˆ í›„ ìë™ ìˆ¨ê¹€
            setTimeout(function() {
              if (this.pwSuccess) {
                this.pwSuccess.style.display = 'none';
              }
            }.bind(this), 8000);
          }
        },
        
        showErrorMessage: function(message) {
          var errorDiv = document.createElement('div');
          errorDiv.className = 'error-message';
          errorDiv.innerHTML = message.replace(/\n/g, '<br>');
          
          var existingError = this.pwForm.querySelector('.error-message');
          if (existingError) {
            existingError.remove();
          }
          
          this.pwForm.appendChild(errorDiv);
          
          setTimeout(function() {
            if (errorDiv.parentNode) {
              errorDiv.remove();
            }
          }, 5000);
        },
        
        resetForm: function() {
          this.emailInput.value = '';
          this.verificationCodeInput.value = '';
          this.nicknameInput.value = '';
          this.clearAllErrors();
          
          this.isEmailVerified = false;
          this.stopTimer();
          this.verificationSuccess.classList.remove('show');
          
          this.emailInput.disabled = false;
          this.nicknameInput.disabled = false;
          this.sendVerificationBtn.disabled = false;
          this.verificationCodeInput.disabled = true;
          this.verifyCodeBtn.disabled = true;
          
          this.updateStepIndicator(0);
          
          if (this.pwSuccess) {
            this.pwSuccess.style.display = 'none';
          }
        }
      };
      
      // DOM ë¡œë“œ í›„ ì´ˆê¸°í™”
      document.addEventListener('DOMContentLoaded', function() {
        console.log('ğŸ¯ DOM ë¡œë“œ ì™„ë£Œ - ë¹„ë°€ë²ˆí˜¸ ì°¾ê¸° ì‹œìŠ¤í…œ ì´ˆê¸°í™”');
        PasswordResetManager.init();
        console.log('âœ… ë¹„ë°€ë²ˆí˜¸ ì°¾ê¸° ì‹œìŠ¤í…œ ì¤€ë¹„ ì™„ë£Œ');
      });
      
      // ì „ì—­ ë…¸ì¶œ
      window.PasswordResetManager = PasswordResetManager;
      
      console.log('ğŸ‰ ë¹„ë°€ë²ˆí˜¸ ì°¾ê¸° ì‹œìŠ¤í…œ ì¤€ë¹„ ì™„ë£Œ');
      
    })();
  </script>

  <!-- JavaScript ì¸í´ë£¨ë“œ ì½”ë“œ -->
  <script>
    function includeHTML(id, file) {
      fetch(file)
        .then(response => response.text())
        .then(data => {
          document.getElementById(id).innerHTML = data;
          console.log('âœ… ' + file + ' í¬í•¨ ë° ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰ ì™„ë£Œ');
        })
        .catch(error => {
          console.error('íŒŒì¼ ë¡œë”© ì‹¤íŒ¨:', error);
        });
    }

    includeHTML("header-include", "header.html");
    includeHTML("footer-include", "footer.html");
  </script>
  
  <!-- í˜ì´ì§€ ê´€ë¦¬ì ìŠ¤í¬ë¦½íŠ¸ ì¶”ê°€ -->
  <script src="page-manager.js"></script>

</body>
</html>